<div>
  <header class="fixed top-0 left-0 right-0 bg-white p-6 lg:p-8" data-controller="dropdown" style="z-index: 60;">
    <div class="flex items-center justify-between w-full">

      <div class="flex-shrink-0 pr-4">
        <%= link_to root_path, title: "Howard Hodgkin", rel: "home" do %>
          <%= image_tag "hh-logo.png", alt: "Howard Hodgkin", class: "w-64" %>
          <span class="sr-only">Howard Hodgkin</span>
        <% end %>
      </div>

      <!-- Desktop Navigation -->
      <nav class="hidden lg:flex items-center list-none m-0 px-4 py-0">

        <!-- Gallery Dropdown -->
        <div class="relative dropdown-container">
          <button class="flex items-center cursor-pointer hover:text-blue-800 transition-opacity px-4 py-3 whitespace-nowrap" data-action="click->dropdown#toggle">
            <span class="text-lg">Gallery</span>
            <%= raw '&nbsp;' %>
            <i class="fa-solid fa-caret-down"></i>
          </button>
          <div id="gallery-dropdown" class="absolute top-full left-0 mt-2 bg-gray-50 py-2 min-w-[220px] z-50 overflow-hidden transition-all duration-500 ease-in-out opacity-0 max-h-0">
            <%= link_to "Explore", gallery_root_path, class: "block px-4 py-1 hover:text-blue-800 transition-colors text-lg" %>
            <%= link_to "Paintings", gallery_paintings_path, class: "block px-4 py-1 hover:text-blue-800 transition-colors text-lg" %>
            <%= link_to "Prints", gallery_prints_path, class: "block px-4 py-1 hover:text-blue-800 transition-colors text-lg" %>
            <%= link_to "Indian Leaves", gallery_indian_leaves_path, class: "block px-4 py-1 hover:text-blue-800 transition-colors text-lg" %>
            <%= link_to "Indian Waves", gallery_indian_waves_path, class: "block px-4 py-1 hover:text-blue-800 transition-colors text-lg" %>
            <%= link_to "Design", gallery_design_path, class: "block px-4 py-1 hover:text-blue-800 transition-colors text-lg" %>
            <%= link_to "Other", gallery_other_path, class: "block px-4 py-1 hover:text-blue-800 transition-colors text-lg" %>
            <%= link_to "Missing Works", gallery_missing_works_path, class: "block px-4 py-1 hover:text-blue-800 transition-colors text-lg" %>
            <%= link_to "All Artworks", gallery_all_path, class: "block px-4 py-1 hover:text-blue-800 transition-colors text-lg" %>
          </div>
        </div>

        <!-- Resources Dropdown -->
        <div class="relative dropdown-container">
          <button class="flex items-center cursor-pointer hover:text-blue-800 transition-opacity px-4 py-3 whitespace-nowrap" data-action="click->dropdown#toggle">
            <span class="text-lg">Resources</span>
            <%= raw '&nbsp;' %>
            <i class="fa-solid fa-caret-down"></i>
          </button>
          <div id="resources-dropdown" class="hidden absolute top-full left-0 mt-2 bg-gray-50 py-2 min-w-[220px] z-50 overflow-hidden transition-all duration-500 ease-in-out opacity-0 max-h-0">
            <%= link_to "Explore", resources_path, class: "block px-4 py-2 hover:text-blue-800 transition-colors text-lg" %>
            <%= link_to "Exhibitions", resources_exhibitions_path, class: "block px-4 py-2 hover:text-blue-800 transition-colors text-lg" %>
            <%= link_to "Films and Audio", resources_films_and_audio_path, class: "block px-4 py-2 hover:text-blue-800 transition-colors text-lg" %>
            <%= link_to "Texts", resources_texts_path, class: "block px-4 py-2 hover:text-blue-800 transition-colors text-lg" %>
            <%= link_to "Publications", resources_publications_path, class: "block px-4 py-2 hover:text-blue-800 transition-colors text-lg" %>
            <%= link_to "Chronology", resources_chronology_path, class: "block px-4 py-2 hover:text-blue-800 transition-colors text-lg" %>
            <%= link_to "Collections", resources_collections_path, class: "block px-4 py-2 hover:text-blue-800 transition-colors text-lg" %>
          </div>
        </div>
        
        <!-- Indian Collection Dropdown -->
        <div class="relative dropdown-container">
          <button class="flex items-center cursor-pointer hover:text-blue-800 transition-opacity px-4 py-3 whitespace-nowrap" data-action="click->dropdown#toggle">
            <span class="text-lg">Indian Collection</span>
            <%= raw '&nbsp;' %>
            <i class="fa-solid fa-caret-down"></i>
          </button>
          <div id="indian-collection-dropdown" class="hidden absolute top-full left-0 mt-2 bg-gray-50 py-2 min-w-[220px] z-50 overflow-hidden transition-all duration-500 ease-in-out opacity-0 max-h-0">
            <%= link_to "Explore", indian_collection_root_path, class: "block px-4 py-2 hover:text-blue-800 transition-colors text-lg" %>
            <%= link_to "Artworks", indian_collection_gallery_root_path, class: "block px-4 py-2 hover:text-blue-800 transition-colors text-lg" %>
            <%= link_to "Resources", indian_collection_resources_path, class: "block px-4 py-2 hover:text-blue-800 transition-colors text-lg" %>
          </div>
        </div>
        
        <!-- News Link -->
        <div class="flex items-center">
          <%= link_to "News", news_index_path, class: "hover:text-blue-800 transition-opacity text-lg px-4 py-3 whitespace-nowrap" %>
        </div>
        
        <!-- Search Icon -->
        <button class="flex items-center hover:text-blue-800 transition-opacity cursor-pointer">
          <i class="fa-solid fa-magnifying-glass text-xl px-4 py-3"></i>
        </button>

        <!-- Mailing List Icon -->
        <%= link_to subscribe_path, class: "flex items-center hover:text-blue-800 transition-opacity text-2xl px-4 py-3" do %>
          <i class="fa-regular fa-envelope"></i>
        <% end %>

        <!-- Instagram Icon -->
        <%= link_to "https://www.instagram.com/howardhodgkin/", target: "_blank", rel: "noopener noreferrer", class: "flex items-center hover:text-blue-800 transition-opacity text-2xl px-4 py-3" do %>
          <i class="fa-brands fa-instagram"></i>
        <% end %>
      </nav>

      <!-- Mobile Menu Button -->
      <button class="lg:hidden flex items-center hover:text-blue-800 transition-opacity"
              data-action="click->mobile-menu#toggle">
        <i class="fa-solid fa-bars text-2xl"></i>
      </button>
    </div>
  </header>
</div>