<%= link_to resource.path, class: "group block" do %>
  <div class="flex flex-col md:flex-row gap-4 md:gap-6 items-start">
    <!-- image on mobile and left on larger screens -->
    <% if resource.cloudinary_public_id.present? %>
      <div class="flex-shrink-0 w-full md:w-32 lg:w-48">
        <%= image_tag resource.thumbnail_url, 
            alt: resource.title,
            class: "object-cover w-full" %>
      </div>
    <% end %>
    
    <!-- text content -->
    <div class="flex-1 space-y-1">
      <h3 class="font-semibold text-base md:text-lg group-hover:text-blue-800">
        <%= resource.title %>
      </h3>
      
      <% if resource.author.present? %>
        <h3 class="font-semibold text-base md:text-lg text-gray-500 group-hover:text-blue-400">
          By <%= resource.author %>
        </h3>
      <% end %>
      
      <p class="text-xs md:text-sm">
        <% if resource.publisher.present? %>
          <span class="group-hover:text-blue-800">
            <%= resource.publisher %>, 
          </span>
        <% end %>
        <% if resource.date.present? || resource.year.present? %>
          <span class="text-gray-500 group-hover:text-blue-400">
            <%= resource.date_display %>
          </span>
        <% end %>
      </p>
      
      <% if resource.summary.present? %>
        <p class="text-xs md:text-sm text-pretty group-hover:text-blue-800 md:w-2/3">
          <%= resource.summary %>
        </p>
      <% elsif resource.description.present? %>
        <p class="text-xs md:text-sm text-pretty group-hover:text-blue-800 md:w-2/3">
          <%= resource.description.truncate_words(50, omission: ' [...]') %>
        </p>
      <% end %>
    </div>
  </div>
<% end %>